{"version":3,"file":"js/695.df46ac7f.js","mappings":"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","sources":["webpack://ax-cms/./src/views/main/system/department/department.vue?bda0","webpack://ax-cms/./src/views/main/system/department/config/mask.config.ts","webpack://ax-cms/./src/views/main/system/department/config/content.config.ts","webpack://ax-cms/./src/views/main/system/department/config/search.config.ts","webpack://ax-cms/./src/views/main/system/department/department.vue","webpack://ax-cms/./src/views/main/system/department/department.vue?3435"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, Suspense as _Suspense, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-74a9fc67\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"department\"\n};\nconst _hoisted_2 = {\n  class: \"content\"\n};\nconst _hoisted_3 = {\n  class: \"mask\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_page_search = _resolveComponent(\"page-search\");\n\n  const _component_content_show = _resolveComponent(\"content-show\");\n\n  const _component_content_mask = _resolveComponent(\"content-mask\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_page_search, {\n    searchFormConfig: _ctx.searchFormConfig,\n    onSearchBtn: _ctx.searchBtn,\n    onResetBtn: _ctx.resetBtn\n  }, null, 8, [\"searchFormConfig\", \"onSearchBtn\", \"onResetBtn\"]), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(), _createBlock(_Suspense, null, {\n    default: _withCtx(() => [_createVNode(_component_content_show, {\n      contentFormConfig: _ctx.contentFormConfig,\n      title: \"部门列表\",\n      pageName: \"department\",\n      ref: \"contentShowRef\",\n      searchData: _ctx.searchData,\n      onCreateInfoBtn: _ctx.createInfoBtn,\n      onEditInfo: _ctx.editInfo\n    }, null, 8, [\"contentFormConfig\", \"searchData\", \"onCreateInfoBtn\", \"onEditInfo\"])]),\n    _: 1\n  }))]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_content_mask, {\n    maskFormConfig: _ctx.maskConfig,\n    defaultInfo: _ctx.defaultInfo,\n    onUpdateTableData: _ctx.updateTableData,\n    ref: \"maskContentRef\",\n    pageName: \"department\",\n    title: \"部门列表\"\n  }, null, 8, [\"maskFormConfig\", \"defaultInfo\", \"onUpdateTableData\"])])]);\n}","import { IFormItem, IInputType } from \"@/base-ui/form\"\nimport { IForm } from \"@/base-ui/form/types\"\nconst formItems: IFormItem[] = [\n  {\n    field: \"name\",\n    type: IInputType.INPUT,\n    label: \"部门名\",\n    placeHolder: \"请输入部门名\"\n  },\n  {\n    field: \"leader\",\n    type: IInputType.INPUT,\n    label: \"管理者\",\n    placeHolder: \"请输入管理者\"\n  }\n]\nconst labelWidth = \"100px\"\nconst itemStyle = { padding: \"10px 40px\" }\nconst colLayout = {\n  span: 24\n}\nexport const maskFormConfig: IForm = {\n  formItems, // 表单类型\n  labelWidth, // label宽度\n  itemStyle, // 样式配置\n  colLayout // 排列方式\n}\n","import { ITable, ITableItem } from \"@/base-ui/table\"\n\nconst formItems: ITableItem[] = [\n  {\n    prop: \"id\",\n    label: \"id\",\n    minWidth: 90\n  },\n  {\n    prop: \"name\",\n    label: \"部门名\",\n    minWidth: 120\n  },\n  {\n    prop: \"leader\",\n    label: \"管理\",\n    minWidth: 120\n  },\n  {\n    prop: \"createAt\",\n    label: \"创建时间\",\n    minWidth: 200,\n    slotName: \"createAt\"\n  },\n  {\n    prop: \"updateAt\",\n    label: \"更新时间\",\n    minWidth: 200,\n    slotName: \"updateAt\"\n  },\n  {\n    label: \"操作\",\n    minWidth: 120,\n    slotName: \"edit\"\n  }\n]\nconst showIndex = true\nconst showCheckBox = false\nexport const contentFormConfig: ITable = {\n  formItems, // 绑定字段对应样式\n  showIndex, // 是否显示序号\n  showCheckBox // 是否显示复选框\n}\n","import { IFormItem, IInputType } from \"@/base-ui/form\"\nimport { IForm } from \"@/base-ui/form/types\"\n\nconst formItems: IFormItem[] = [\n  {\n    field: \"id\",\n    type: IInputType.INPUT,\n    label: \"id\",\n    placeHolder: \"请输入id\"\n  },\n  {\n    field: \"name\",\n    type: IInputType.INPUT,\n    label: \"部门名称\",\n    placeHolder: \"请输入部门名称\"\n  },\n  {\n    field: \"leader\",\n    type: IInputType.INPUT,\n    label: \"管理\",\n    placeHolder: \"请输入管理人\"\n  },\n  {\n    field: \"createAt\",\n    type: IInputType.DATEPICKER,\n    label: \"创建时间\",\n    otherOptions: {\n      \"range-separator\": \"-\",\n      \"start-placeholder\": \"Start date\",\n      \"end-placeholder\": \"End date\"\n    }\n  }\n]\nconst labelWidth = \"100px\"\nconst itemStyle = { padding: \"10px 40px\" }\nexport const searchFormConfig: IForm = {\n  formItems, // 表单类型\n  labelWidth, // label宽度\n  itemStyle // 样式配置\n}\n","import { useMaskData } from \"@/hooks/useMaskData\";\nimport { usePageSearch } from \"@/hooks/usePageSearch\";\nimport { useStore } from \"vuex\";\nimport { computed, defineComponent, ref } from \"vue\";\nimport { maskFormConfig } from \"./config/mask.config\";\nimport { contentFormConfig } from \"./config/content.config\";\nimport { searchFormConfig } from \"./config/search.config\";\nexport default defineComponent({\n  name: \"department\",\n\n  setup() {\n    // 取出maskFormConfig\n    const maskConfig = ref({ ...maskFormConfig\n    }); // 获取角色列表\n\n    const store = useStore();\n    store.dispatch(\"login/getDepartList\");\n    store.dispatch(\"login/getRoleList\"); // 获取角色和部门数据\n\n    const departList = computed(() => store.state.login.departList);\n    const roleList = computed(() => store.state.login.roleList); // 搜索重置逻辑\n\n    const [contentShowRef, searchBtn, resetBtn, searchData] = usePageSearch(); // 是否获取过去部门表和角色表\n\n    const isGetedList = ref(false); // 是否显示与隐藏密码栏\n\n    const newCallback = () => {\n      const passwordItem = maskConfig.value.formItems.find(item => item.field === \"password\");\n      if (passwordItem) passwordItem.isHiden = false;\n\n      if (!isGetedList.value) {\n        // 获取下拉角色表数据\n        const roleIdItem = maskConfig.value.formItems.find(item => item.field === \"roleId\");\n\n        if (roleIdItem) {\n          roleIdItem.options = roleList.value.map(item => ({\n            key: item.name,\n            value: item.id\n          }));\n        } // 获取下拉部门表数据\n\n\n        const departIdItem = maskConfig.value.formItems.find(item => item.field === \"departmentId\");\n\n        if (departIdItem) {\n          departIdItem.options = departList.value.map(item => ({\n            key: item.name,\n            value: item.id\n          }));\n        }\n\n        isGetedList.value = true;\n      }\n    };\n\n    const editCallback = () => {\n      const passwordItem = maskConfig.value.formItems.find(item => item.field === \"password\");\n      passwordItem.isHiden = true;\n\n      if (!isGetedList.value) {\n        // 获取下拉角色表数据\n        const roleIdItem = maskConfig.value.formItems.find(item => item.field === \"roleId\");\n        roleIdItem.options = roleList.value.map(item => ({\n          key: item.name,\n          value: item.id\n        })); // 获取下拉部门表数据\n\n        const departIdItem = maskConfig.value.formItems.find(item => item.field === \"departmentId\");\n        departIdItem.options = departList.value.map(item => ({\n          key: item.name,\n          value: item.id\n        }));\n        isGetedList.value = true;\n      }\n    };\n\n    const [maskContentRef, defaultInfo, createInfoBtn, editInfo] = useMaskData(newCallback, editCallback); // 更新table数据\n\n    const updateTableData = () => {\n      contentShowRef.value.updateForm();\n    }; // 点击状态按钮\n    // const changeStatus = async (val: any) => {\n    //   delete val.createAt\n    //   delete val.updateAt\n    //   await maskContentRef.value?.allMatch[\"users\"].editDataInfo({\n    //     ...val,\n    //     enable: val.enable == 0 ? 0 : 1\n    //   })\n    //   updateTableData()\n    // }\n\n\n    return {\n      searchBtn,\n      resetBtn,\n      searchFormConfig,\n      maskFormConfig,\n      contentFormConfig,\n      contentShowRef,\n      searchData,\n      createInfoBtn,\n      editInfo,\n      maskContentRef,\n      defaultInfo,\n      maskConfig,\n      updateTableData\n    };\n  }\n\n});","/* unplugin-vue-components disabled */import { render } from \"./department.vue?vue&type=template&id=74a9fc67&scoped=true&ts=true\"\nimport script from \"./department.vue?vue&type=script&lang=ts\"\nexport * from \"./department.vue?vue&type=script&lang=ts\"\n\nimport \"./department.vue?vue&type=style&index=0&id=74a9fc67&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\前端开发\\\\VUE_3\\\\ax-cms\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-74a9fc67\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","render","_ctx","_cache","$props","$setup","$data","$options","_component_page_search","_component_content_show","_component_content_mask","searchFormConfig","onSearchBtn","searchBtn","onResetBtn","resetBtn","_","default","contentFormConfig","title","pageName","ref","searchData","onCreateInfoBtn","createInfoBtn","onEditInfo","editInfo","maskFormConfig","maskConfig","defaultInfo","onUpdateTableData","updateTableData","formItems","field","type","IInputType","label","placeHolder","labelWidth","itemStyle","padding","colLayout","span","prop","minWidth","slotName","showIndex","showCheckBox","otherOptions","name","setup","store","dispatch","departList","state","login","roleList","contentShowRef","usePageSearch","isGetedList","newCallback","passwordItem","value","find","item","isHiden","roleIdItem","options","map","key","id","departIdItem","editCallback","maskContentRef","useMaskData","updateForm","__exports__"],"sourceRoot":""}